<?phprequire_once './global.php';class updateUser extends adminBase{		public function __construct()	{		parent::__construct();	}		public function __destruct()	{		parent::__destruct();	}		public function show()	{		if ($this->input['user_id'])		{			$user_id = intval($this->input['user_id']);		}		else		{			$user_id = $this->user['user_id'];		}		$user_name = trim($this->input['user_name']);		if (!$user_id || empty($user_name))		{			$this->errorOutput(PARAM_WRONG);		}		//更新冗余的用户昵称信息		$data = array();		$data['team'] = array(			'id' => 'creater_id',			'name' => 'creater_name'		);		$data['team_apply'] = array(			'id' => 'user_id',			'name' => 'user_name'		);		$data['apply_action'] = array(			'id' => 'user_id',			'name' => 'user_name'		);		$data['material'] = array(			'id' => 'user_id',			'name' => 'user_name'		);		$data['topic'] = array(			'id' => 'creater_id',			'name' => 'creater_name'		);		$data['topic_reply'] = array(			'id' => 'poster_id',			'name' => 'poster_name'		);		$data['activity'] = array(			'id' => 'user_id',			'name' => 'user_name',		);		$data['activity_apply'] = array(			'id' => 'user_id',			'name' => 'user_name',		);		$data['activity_review'] = array(			'id' => 'user_id',			'name' => 'user_name',		);		$data['commtent'] = array(			'id' => 'user_id',			'name' => 'user_name',		);		$result = $this->update($data, $user_id, $user_name);		$this->addItem($result);		$this->output();	}		private function update($data, $user_id, $user_name)	{		if (!$data || !$user_id || empty($user_name))		{			return false;		}		foreach ($data as $k => $v)		{			$sql = 'UPDATE ' . DB_PREFIX . $k . ' SET ' . $v['name'] . ' = "' . $user_name . '" WHERE ' . $v['id'] . ' = ' . $user_id;			$result = $this->db->query($sql);		}		return $result;	}		/**	 * 方法不存在的时候调用的方法	 */	public function none()	{		$this->errorOutput('调用的方法不存在');	}}$out = new updateUser();$action = $_INPUT['a'];if (!method_exists($out,$action)){	$action = 'none';}$out->$action();