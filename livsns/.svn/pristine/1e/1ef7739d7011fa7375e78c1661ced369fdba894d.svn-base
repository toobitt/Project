<?phpclass mark extends BaseFrm{	function __construct()	{		global $gGlobalConfig;		include_once (ROOT_PATH . 'lib/class/curl.class.php');		$this->curl = new curl($gGlobalConfig['App_mark']['host'], $gGlobalConfig['App_mark']['dir']);	}	function __destruct()	{		unset($this->curl);	}	/**	 * require array	 * user_id: 用户id()	 * source:来源	 * action：识别	 * source_id：来源id	 * mark_id:标签id	 * name:标签名	 * 注：1.多参数逗号隔开	 * 	  2.mark_id与name必选其一，其他必填	 */	function create_source_id_mark($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'create');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_update.php');		return $ret;	}	/**	 * require array	 * user_id: 用户id()	 * source:来源	 * source_id：来源id	 * action：识别	 * mark_id:标签id	 * name:标签名	 * 注：1.多参数逗号隔开	 * 	  2.mark_id与name必选其一，其他必填	 */	function update_source_id_mark($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'update');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_update.php');		return $ret;	}	/**	 * require array	 * user_id: 用户id()	 * source:来源	 * source_id：来源id	 * action：识别	 * mark_id:标签id	 * name:标签名	 * 注：1.多参数逗号隔开	 * 	  2.mark_id与name必选其一，其他必填	 */	function delete_source_id_mark($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'delete');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_update.php');		return $ret;	}	/**	 * require array	 * source:来源	 * source_id：来源id	 * action：识别	 * offset:起始位	 * count:长度，（输入－1取全部）	 * retuen : total:总数	 * 			data：具体数据	 */	function show_source_id_mark($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'show');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_show.php');		return $ret;	}	/**	 * require array	 * source:来源	 * source_id：来源id	 * action：识别	 */	function count_source_id_mark($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'count');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_show.php');		return $ret;	}	/**	 * name:搜索标签名	 * offset:起始位	 * count:长度，（输入－1取全部）	 */	function detail_source_id_mark($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'getIdsByMark');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_show.php');		return $ret;	}		/*	 * user_id:用户id	 * kind_name:分类名／kind_id:分类id	 * mark_id:标签id／mark_name:标签名	 */	function create_mark_to_kind($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'adminMove');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('kind.php');		return $ret;	}	/*	 * user_id:用户id	 * kind_id:分类id	 * offset:起始位	 * count:长度，（输入－1取全部）	 */	function show_mark_to_kind($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'show');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('kind.php');		return $ret;	}	/*	 * user_id:用户id	 * kind_id:分类id(选填)	 * mark_id:标签id(选填)	 */	function delete_mark_to_kind($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'delete');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('kind.php');		return $ret;			}		/**	 * 获取热门标签	 * partent_id:父集id	 * source:	 * action:（选传）	 * offset：开始	 * count：个数	 */	public function get_hot_mark($data = array())	{		$this->curl->setSubmitType('get');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'getHotMark');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_show.php');		return $ret[0];	}		/**	 * 获取热门标签	 * partent_id:父集id	 * source:	 * action:	 * source_id: 	 * state: 0软删1有效2关闭	 */	public function update_mark_state($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'updateState');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_update.php');		return $ret;	}	/**	 * 根据标签名获取话题	 * partent_id:父集id	 * source:	 * mark_name:	 * action:（选传）	 * offset：开始	 * count：个数	 */	public function get_id_by_name($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'search');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('mark_show.php');		return $ret[0];	}		function insertMark($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'insertMark');		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('correct_data.php');		return $ret;	}		function insertMarkAction($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'insertMarkAction');		$this->curl->addRequestData('html', 1);		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('correct_data.php');		return $ret;	}		function insertNameAction($data = array())	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'insertNameAction');		$this->curl->addRequestData('html', 1);		foreach($data as $k =>$v)		{			$this->curl->addRequestData($k, $v);		}		$ret = $this->curl->request('correct_data.php');		return $ret;	}	function table()	{		$this->curl->setSubmitType('post');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'table');		$this->curl->request('correct_data.php');		return true;	}}?>