<?php/**************************************************************************** LivSNS 0.1* (C)2004-2010 HOGE Software.** $Id: payments.php 17960 2013-03-21 14:28:00 jeffrey $***************************************************************************/require_once './global.php';require_once CUR_CONF_PATH . 'lib/payments.class.php';define('MOD_UNIQUEID', 'pay_list'); //模块标识class paymentsApi extends adminReadBase{	private $payments;		public function __construct()	{		parent::__construct();		$this->payments = new paymentsClass();	}	public function __destruct()	{		parent::__destruct();		unset($this->payments);	}		public function index()	{			}		/**	 * 信息列表	 */	public function show()	{		$offset = isset($this->input['offset']) ? intval($this->input['offset']) : 0;		$count = isset($this->input['count']) ? intval($this->input['count']) : 20;		$payments_info = array();		$payments_info = $this->payments->show($offset, $count);		$this->setXmlNode('payments_info', 'payments');		if ($payments_info)		{			foreach ($payments_info as $value)			{				$this->addItem($value);			}		}				$this->output();	}			/**	 * 信息数据总数	 */	public function count()	{	}	/**	**	信息编辑	**/	public function detail()	{		$id = trim($this->input['id']);		if(!$id){			$this->errorOutput(OBJECT_NULL);		}		$info = array();		$info = $this->payments->detail($id);		$this->addItem($info);		$this->output();	}		/**	 * 查询条件	 * @param Array $data	 */	private function get_condition()	{	}}$out = new paymentsApi();$action = $_INPUT['a'];if (!method_exists($out, $action)){	$action = 'show';}$out->$action();?>