<?phpclass tv_play{    public function __construct()    {        global $gGlobalConfig;        include_once (ROOT_PATH . 'lib/class/curl.class.php');        $this->curl = new curl($gGlobalConfig['App_tv_play']['host'], $gGlobalConfig['App_tv_play']['dir']);    }    public function __destruct()    {        unset($this->curl);    }    public function update_tv($id, $url)    {        if (!$this->curl)        {            return array();        }        $this->curl->setSubmitType('post');        $this->curl->initPostData();        $this->curl->addRequestData('video_id', $id);        $this->curl->addRequestData('url', $url);        $this->curl->addRequestData('a', 'updateEpisodeUrl');        $result = $this->curl->request('admin/tv_play_update.php');        return $result[0];    }    public function array_to_add($str, $data)    {        $str = $str ? $str : 'data';        if (is_array($data))        {            foreach ($data AS $kk => $vv)            {                if (is_array($vv))                {                    $this->array_to_add($str . "[$kk]", $vv);                }                else                {                    $this->curl->addRequestData($str . "[$kk]", $vv);                }            }        }    }}?>