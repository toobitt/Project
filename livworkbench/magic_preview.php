<?phpdefine('ROOT_DIR', './');define('SCRIPT_NAME', 'magicPreview');require_once('./global.php');require_once(ROOT_PATH . 'lib/class/curl.class.php');class magicPreview extends uiBaseFrm{	private $curl;	function __construct()	{		parent::__construct();	}	function __destruct()	{		parent::__destruct();	}	function show()	{		$site_id = $this->input['site_id'];		$page_id = intval($this->input['page_id']);		$page_data_id = intval($this->input['page_data_id']);		$content_type = intval($this->input['content_type']);		$template_id = $this->input['template_id'];		$ispreset = $this->input['ispreset'];		$this->curl = new curl($this->settings['App_publishsys']['host'], $this->settings['App_publishsys']['dir']);		$this->curl->setSubmitType('post');		$this->curl->setReturnFormat('json');		$this->curl->initPostData();		$this->curl->addRequestData('a', 'preview');		$this->curl->addRequestData('site_id', $site_id);		$this->curl->addRequestData('page_id', $page_id);		$this->curl->addRequestData('page_data_id', $page_data_id);		$this->curl->addRequestData('content_type', $content_type);		$this->curl->addRequestData('template_id', $template_id);		$this->curl->addRequestData('ispreset', $ispreset);		$hg_data_return = $this->curl->request('admin/cell.php');		echo $hg_data_return[0];	}}include (ROOT_PATH . 'lib/exec.php');?>