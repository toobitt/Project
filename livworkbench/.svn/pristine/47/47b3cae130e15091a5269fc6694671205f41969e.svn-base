<?php/**************************************************************************** LivSNS 0.1* (C)2009-2010 HOGE Software.** $Id: channel.class.php 12433 2012-10-11 09:59:16Z yaojian $***************************************************************************/class channel{	public function __construct()	{		global $gGlobalConfig;		include_once (ROOT_PATH . 'lib/class/curl.class.php');		if($gGlobalConfig['App_mcp_channel'])		{			$this->curl = new curl($gGlobalConfig['App_mcp_channel']['host'], $gGlobalConfig['App_mcp_channel']['dir']);			}	}	public function __destruct()	{		unset($this->curl);	}		public function get_channels($offset = 0, $count = 4)	{		if(!$this->curl)		{			return array();		}		$this->curl->setSubmitType('get');				$this->curl->setReturnFormat('json');		$this->curl->initPostData();		$this->curl->addRequestData('offset', $offset);		$this->curl->addRequestData('count', $count);		$this->curl->addRequestData('a', 'show');		$ret = $this->curl->request('channel.php');		return $ret;	}}?>